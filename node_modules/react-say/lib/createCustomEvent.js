"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = createCustomEvent;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

function createCustomEvent(name, eventInitDict) {
  if (name === 'error') {
    if (typeof ErrorEvent === 'function') {
      return new ErrorEvent(name, eventInitDict);
    }
  } else if (typeof CustomEvent === 'function') {
    return new CustomEvent(name, eventInitDict);
  }

  var event = document.createEvent('Event');
  event.initEvent(name, true, true);
  Object.entries(eventInitDict || {}).forEach(function (_ref) {
    var _ref2 = (0, _slicedToArray2["default"])(_ref, 2),
        key = _ref2[0],
        value = _ref2[1];

    event[key] = value;
  });
  return event;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jcmVhdGVDdXN0b21FdmVudC5qcyJdLCJuYW1lcyI6WyJjcmVhdGVDdXN0b21FdmVudCIsIm5hbWUiLCJldmVudEluaXREaWN0IiwiRXJyb3JFdmVudCIsIkN1c3RvbUV2ZW50IiwiZXZlbnQiLCJkb2N1bWVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBZSxTQUFTQSxpQkFBVCxDQUEyQkMsSUFBM0IsRUFBaUNDLGFBQWpDLEVBQWdEO0FBQzdELE1BQUlELElBQUksS0FBSyxPQUFiLEVBQXNCO0FBQ3BCLFFBQUksT0FBT0UsVUFBUCxLQUFzQixVQUExQixFQUFzQztBQUNwQyxhQUFPLElBQUlBLFVBQUosQ0FBZUYsSUFBZixFQUFxQkMsYUFBckIsQ0FBUDtBQUNEO0FBQ0YsR0FKRCxNQUlPLElBQUksT0FBT0UsV0FBUCxLQUF1QixVQUEzQixFQUF1QztBQUM1QyxXQUFPLElBQUlBLFdBQUosQ0FBZ0JILElBQWhCLEVBQXNCQyxhQUF0QixDQUFQO0FBQ0Q7O0FBRUQsTUFBTUcsS0FBSyxHQUFHQyxRQUFRLENBQUNDLFdBQVQsQ0FBcUIsT0FBckIsQ0FBZDtBQUVBRixFQUFBQSxLQUFLLENBQUNHLFNBQU4sQ0FBZ0JQLElBQWhCLEVBQXNCLElBQXRCLEVBQTRCLElBQTVCO0FBRUFRLEVBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlUixhQUFhLElBQUksRUFBaEMsRUFBb0NTLE9BQXBDLENBQTRDLGdCQUFrQjtBQUFBO0FBQUEsUUFBaEJDLEdBQWdCO0FBQUEsUUFBWEMsS0FBVzs7QUFDNURSLElBQUFBLEtBQUssQ0FBQ08sR0FBRCxDQUFMLEdBQWFDLEtBQWI7QUFDRCxHQUZEO0FBSUEsU0FBT1IsS0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQ3VzdG9tRXZlbnQobmFtZSwgZXZlbnRJbml0RGljdCkge1xuICBpZiAobmFtZSA9PT0gJ2Vycm9yJykge1xuICAgIGlmICh0eXBlb2YgRXJyb3JFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvckV2ZW50KG5hbWUsIGV2ZW50SW5pdERpY3QpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIGV2ZW50SW5pdERpY3QpO1xuICB9XG5cbiAgY29uc3QgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblxuICBldmVudC5pbml0RXZlbnQobmFtZSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgT2JqZWN0LmVudHJpZXMoZXZlbnRJbml0RGljdCB8fCB7fSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgZXZlbnRba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICByZXR1cm4gZXZlbnQ7XG59XG4iXX0=